dependencies {
  kover(projects.app)
}

kover {
  reports {
    variant("debug") {
      filters {
        excludes {
          packages(
              "com.divinelink.core.ui.provider",
              ".provider",
              // Destinations auto-generated classes
              "*.screens",
              "dagger.hilt.internal.aggregatedroot.codegen.*",
              "hilt_aggregated_deps.*"
          )
          classes(
              "*ComposableSingletons*",
              "*BuildConfig*",
              "*Module*",
              "*Hilt*",
              "*_Factory*",

              "*Service*",
              "*Activity*",
              "*.BuildConfig",
              "*.BR",
              "*androidx*",
              "*.DebugUtil",

              "*Preview",
              "*ParameterProvider.kt",

              "ConnectivityManagerNetworkMonitor.kt"
          )
          annotatedBy(
              "androidx.compose.ui.tooling.preview.Preview",
              "*.ExcludeFromKoverReport",
              "com.divinelink.core.ui.Previews",
          )
        }
        includes {
          packages("com.divinelink")
        }
      }

      html {
        htmlDir = layout.buildDirectory.dir("all-projects-reports")
      }

      xml {
        xmlFile = layout.buildDirectory.file("all-projects-reports/kover.xml")
      }
    }
  }
}